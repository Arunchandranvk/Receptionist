{% extends "userhome.html" %}
{% load static %} 
{% block user %}

<div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6">
    <h2 class="text-2xl font-semibold text-center text-gray-800 mb-4">Edit Profile</h2>

    <form method="post" enctype="multipart/form-data" class="space-y-4">
        {% csrf_token %}
        {{form.errors}}
        <!-- Profile Picture -->
        <div class="flex flex-col items-center">
            <img src="{{ user.img.url }}" alt="Profile" class="rounded-full border border-gray-300" style="height: 150px; width: 150px; object-fit: cover;">
            <input type="file" name="img" class="mt-3 p-1 border rounded">
        </div>

        <!-- Name -->
        <div>
            <label class="block text-gray-600 font-medium">Full Name</label>
            <input type="text" name="name" value="{{ user.name }}" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Department -->
        <div>
            <label class="block text-gray-600 font-medium">Department</label>
            <select name="department" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
                <option value="{{ user.department.id }}">{{ user.department.name }}</option>
                {% for i in department %}
                    <option value="{{ i.id }}">{{ i.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Student ID -->
        <div>
            <label class="block text-gray-600 font-medium">Student ID</label>
            <input type="text" name="std_id" value="{{ user.std_id }}" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Quick Info Section -->
        <div class="border-t pt-4">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">Quick Info</h3>

            <div class="space-y-3">
                <!-- Email -->
                <div>
                    <label class="block text-gray-600 font-medium">Email</label>
                    <input type="email" name="email" value="{{ user.email }}" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
                </div>

                <!-- Gender -->
                <div>
                    <label class="block text-gray-600 font-medium">Gender</label>
                    <select name="gender" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
                        <option selected>{{ user.gender }}</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                    </select>
                </div>

                <!-- Date of Birth -->
                <div>
                    <label class="block text-gray-600 font-medium">Date of Birth</label>
                    <input type="date" name="dob" value="{{ user.dob|date:'Y-m-d' }}" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
                    <input type="boolean" name="is_active" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500" value="True" hidden>

                </div>

                <!-- Semester -->
                <div>
                    <label class="block text-gray-600 font-medium">Semester</label>
                    <select name="sem" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
                        <option selected>{{ user.sem }}</option>
                        <option>Semester 1</option>
                        <option>Semester 2</option>
                        <option>Semester 3</option>
                        <option>Semester 4</option>
                        <option>Semester 5</option>
                        <option>Semester 6</option>
                        <option>Semester 7</option>
                        <option>Semester 8</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Buttons -->
        <div class="flex justify-center space-x-4 mt-6">
            <button class="bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors">
                Save Changes
            </button>
            <!-- Uncomment this button if needed -->
            <!-- <button class="bg-yellow-600 text-white py-2 px-4 rounded-lg hover:bg-yellow-700 transition-colors">
                Change Password
            </button> -->
        </div>
    </form>
</div>

{% endblock %}
